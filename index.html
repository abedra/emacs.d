<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Aaron Bedra's Emacs 24 Configuration</title>
<!-- 2018-04-17 Tue 10:12 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Aaron Bedra" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://thomasf.github.io/solarized-css/solarized-light.min.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Aaron Bedra's Emacs 24 Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Configuration</a>
<ul>
<li><a href="#user-info">User details</a></li>
<li><a href="#environment">Environment</a></li>
<li><a href="#package-management">Package Management</a>
<ul>
<li><a href="#default-packages">Define default packages</a></li>
<li><a href="#package-install">Install default packages</a></li>
</ul>
</li>
<li><a href="#start-up-options">Start-up options</a>
<ul>
<li><a href="#splash-screen">Splash Screen</a></li>
<li><a href="#menu-bars">Scroll bar, Tool bar, Menu bar</a></li>
<li><a href="#regions">Marking text</a></li>
<li><a href="#buffers">Display Settings</a></li>
<li><a href="#indentation">Indentation</a></li>
<li><a href="#backup-files">Backup files</a></li>
<li><a href="#yes-and-no">Yes and No</a></li>
<li><a href="#key-bindings">Key bindings</a></li>
<li><a href="#misc">Misc</a></li>
<li><a href="#vendor-directory">Vendor directory</a></li>
</ul>
</li>
<li><a href="#org-mode">Org</a>
<ul>
<li><a href="#org-mode-settings">Settings</a></li>
<li><a href="#org-agenda">org-agenda</a></li>
<li><a href="#org-habit">org-habit</a></li>
<li><a href="#org-babel">org-babel</a></li>
<li><a href="#org-abbrev">org-abbrev</a></li>
</ul>
</li>
<li><a href="#sec-1-6">Utilities</a>
<ul>
<li><a href="#ditaa">ditaa</a></li>
<li><a href="#plantuml">plantuml</a></li>
<li><a href="#sec-1-6-3">deft</a></li>
<li><a href="#sec-1-6-4">Smex</a></li>
<li><a href="#sec-1-6-5">Ido</a></li>
<li><a href="#sec-1-6-6">Column number mode</a></li>
<li><a href="#sec-1-6-7">Temporary file management</a></li>
<li><a href="#sec-1-6-8">autopair-mode</a></li>
<li><a href="#sec-1-6-9">Power lisp</a></li>
<li><a href="#sec-1-6-10">auto-complete</a></li>
<li><a href="#sec-1-6-11">Indentation and buffer cleanup</a></li>
<li><a href="#sec-1-6-12">flyspell</a></li>
<li><a href="#sec-1-6-13">eshell</a></li>
<li><a href="#sec-1-6-14">powerline</a></li>
</ul>
</li>
<li><a href="#languages">Language Hooks</a>
<ul>
<li><a href="#shell-script-mode">shell-script-mode</a></li>
<li><a href="#conf-mode">conf-mode</a></li>
<li><a href="#web-mode">Web Mode</a></li>
<li><a href="#sec-1-7-4">Ruby</a></li>
<li><a href="#sec-1-7-5">RVM</a></li>
<li><a href="#sec-1-7-6">YAML</a></li>
<li><a href="#sec-1-7-7">CoffeeScript Mode</a></li>
<li><a href="#sec-1-7-8">JavaScript Mode</a></li>
<li><a href="#sec-1-7-9">Markdown Mode</a></li>
<li><a href="#sec-1-7-10">Idris Mode</a></li>
<li><a href="#sec-1-7-11">CPSA Mode</a></li>
<li><a href="#go-mode">Go Mode</a></li>
<li><a href="#sec-1-7-13">Themes</a></li>
<li><a href="#sec-1-7-14">Color Codes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Configuration</h2>
<div class="outline-text-2" id="text-1">
<p>
Emacs is a special beast. Taming it takes a lot of care. In an
attempt to document/explain/share with the rest of the world, this
is my attempt at configuration as a literate program. It also shows
off the awesome power of org-mode, which makes all of this possible.
</p>
</div>
<div id="outline-container-user-info" class="outline-3">
<h3 id="user-info"><a id="sec-1-1" name="sec-1-1"></a>User details</h3>
<div class="outline-text-3" id="text-user-info">

<p>
Emacs will normally pick this up automatically, but this way I can
be sure the right information is always present.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> user-full-name <span style="color: #2aa198;">"Aaron Bedra"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> user-mail-address <span style="color: #2aa198;">"aaron@aaronbedra.com"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-environment" class="outline-3">
<h3 id="environment"><a id="sec-1-2" name="sec-1-2"></a>Environment</h3>
<div class="outline-text-3" id="text-environment">

<p>
There are plenty of things installed outside of the default
<code>PATH</code>. This allows me to establish additional <code>PATH</code> information. At
the moment, the only things that added are <code>/usr/local/bin</code> for
homebrew on OS X and <code>.cabal/bin</code> for <a href="http://www.haskell.org/cabal/">Haskell package binaries</a>.
</p>

<p>
Emacs lisp is really only a subset of common lisp, and I need to
have some of the additional functionality to make the configuration
and its dependencies work properly, which we get by requiring
<a href="http://www.emacswiki.org/emacs/CommonLispForEmacs">Common Lisp for Emacs</a>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setenv <span style="color: #2aa198;">"PATH"</span> (concat <span style="color: #2aa198;">"/usr/local/bin:/opt/local/bin:/usr/bin:/bin:/home/abedra/.cabal/bin"</span> (getenv <span style="color: #2aa198;">"PATH"</span>)))
(setenv <span style="color: #2aa198;">"GOPATH"</span> (concat (getenv <span style="color: #2aa198;">"HOME"</span>) <span style="color: #2aa198;">"/src/golang"</span>))
(<span style="color: #859900; font-weight: bold;">setq</span> exec-path (append exec-path '(<span style="color: #2aa198;">"/usr/local/bin"</span>)))
(add-to-list 'exec-path (concat (getenv <span style="color: #2aa198;">"GOPATH"</span>) <span style="color: #2aa198;">"/bin"</span>))
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">cl</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-package-management" class="outline-3">
<h3 id="package-management"><a id="sec-1-3" name="sec-1-3"></a>Package Management</h3>
<div class="outline-text-3" id="text-package-management">

<p>
Since Emacs 24, Emacs includes the Emacs Lisp Package Archive
(<a href="http://www.emacswiki.org/emacs/ELPA">ELPA</a>) by default. This provides a nice way to install additional
packages. Since the default package archive doesn't include
everything necessary, the <a href="http://marmalade-repo.org/">marmalade</a>, and <a href="http://melpa.milkbox.net/#">melpa</a> repositories are also
added.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(load <span style="color: #2aa198;">"package"</span>)
(package-initialize)
(add-to-list 'package-archives
             '(<span style="color: #2aa198;">"marmalade"</span> . <span style="color: #2aa198;">"http://marmalade-repo.org/packages/"</span>))
(add-to-list 'package-archives
             '(<span style="color: #2aa198;">"melpa"</span> . <span style="color: #2aa198;">"http://melpa.milkbox.net/packages/"</span>) t)

(<span style="color: #859900; font-weight: bold;">setq</span> package-archive-enable-alist '((<span style="color: #2aa198;">"melpa"</span> magit f)))
</pre>
</div>
</div>
<div id="outline-container-default-packages" class="outline-4">
<h4 id="default-packages"><a id="sec-1-3-1" name="sec-1-3-1"></a>Define default packages</h4>
<div class="outline-text-4" id="text-default-packages">

<p>
This is the list of packages used in this configuration.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">abedra/packages</span> '(ac-slime
                          auto-complete
                          autopair
                          cider
                          clojure-mode
                          ess
                          f
                          feature-mode
                          flycheck
                          go-autocomplete
                          go-eldoc
                          go-mode
                          graphviz-dot-mode
                          haml-mode
                          htmlize
                          magit
                          markdown-mode
                          marmalade
                          org
                          paredit
                          powerline
                          rvm
                          smex
                          solarized-theme
                          web-mode
                          writegood-mode
                          yaml-mode)
  <span style="color: #2aa198;">"Default packages"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-package-install" class="outline-4">
<h4 id="package-install"><a id="sec-1-3-2" name="sec-1-3-2"></a>Install default packages</h4>
<div class="outline-text-4" id="text-package-install">

<p>
When Emacs boots, check to make sure all of the packages defined
in <code>abedra/packages</code> are installed. If not, have ELPA take care of
it.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">abedra/packages-installed-p</span> ()
  (<span style="color: #859900; font-weight: bold;">loop</span> for pkg in abedra/packages
        when (not (package-installed-p pkg)) do (<span style="color: #859900; font-weight: bold;">return</span> nil)
        finally (<span style="color: #859900; font-weight: bold;">return</span> t)))

(<span style="color: #859900; font-weight: bold;">unless</span> (abedra/packages-installed-p)
  (message <span style="color: #2aa198;">"%s"</span> <span style="color: #2aa198;">"Refreshing package database..."</span>)
  (package-refresh-contents)
  (<span style="color: #859900; font-weight: bold;">dolist</span> (pkg abedra/packages)
    (<span style="color: #859900; font-weight: bold;">when</span> (not (package-installed-p pkg))
      (package-install pkg))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-start-up-options" class="outline-3">
<h3 id="start-up-options"><a id="sec-1-4" name="sec-1-4"></a>Start-up options</h3>
<div class="outline-text-3" id="text-start-up-options">
</div>

<div id="outline-container-splash-screen" class="outline-4">
<h4 id="splash-screen"><a id="sec-1-4-1" name="sec-1-4-1"></a>Splash Screen</h4>
<div class="outline-text-4" id="text-splash-screen">

<p>
I want to skip straight to the scratch buffer. This turns off the
splash screen and puts me straight into the scratch buffer. I
don't really care to have anything in there either, so turn off
the message while we're at it. Since I end up using <code>org-mode</code>
most of the time, set the default mode accordingly.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> inhibit-splash-screen t
      initial-scratch-message nil
      initial-major-mode 'org-mode)
</pre>
</div>
</div>
</div>
<div id="outline-container-menu-bars" class="outline-4">
<h4 id="menu-bars"><a id="sec-1-4-2" name="sec-1-4-2"></a>Scroll bar, Tool bar, Menu bar</h4>
<div class="outline-text-4" id="text-menu-bars">

<p>
Emacs starts up with way too much enabled. Turn off the scroll bar,
menu bar, and tool bar. There isn't really a reason to have them
on.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(scroll-bar-mode -1)
(tool-bar-mode -1)
(menu-bar-mode -1)
</pre>
</div>
</div>
</div>
<div id="outline-container-regions" class="outline-4">
<h4 id="regions"><a id="sec-1-4-3" name="sec-1-4-3"></a>Marking text</h4>
<div class="outline-text-4" id="text-regions">

<p>
There are some behaviors in Emacs that aren't intuitive. Since I
pair with others that don't know how Emacs handles highlighting,
treat regions like other text editors. This means typing when the
mark is active will write over the marked region. Also, make the
common highlighting keystrokes work the way most people expect
them to. This saves a lot of time explaining how to highlight
areas of text. Emacs also has it's own clipboard and doesn't
respond to the system clipboard by default, so tell Emacs that
we're all friends and can get along.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(delete-selection-mode t)
(transient-mark-mode t)
(<span style="color: #859900; font-weight: bold;">setq</span> x-select-enable-clipboard t)
</pre>
</div>
</div>
</div>
<div id="outline-container-buffers" class="outline-4">
<h4 id="buffers"><a id="sec-1-4-4" name="sec-1-4-4"></a>Display Settings</h4>
<div class="outline-text-4" id="text-buffers">

<p>
I have some modifications to the default display. First, a
minor tweak to the frame title. It's also nice to be able to see
when a file actually ends. This will put empty line markers into
the left hand side.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq-default</span> indicate-empty-lines t)
(<span style="color: #859900; font-weight: bold;">when</span> (not indicate-empty-lines)
  (toggle-indicate-empty-lines))
</pre>
</div>
</div>
</div>
<div id="outline-container-indentation" class="outline-4">
<h4 id="indentation"><a id="sec-1-4-5" name="sec-1-4-5"></a>Indentation</h4>
<div class="outline-text-4" id="text-indentation">

<p>
There's nothing I dislike more than tabs in my files. Make sure I
don't share that discomfort with others.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> tab-width 2
      indent-tabs-mode nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-backup-files" class="outline-4">
<h4 id="backup-files"><a id="sec-1-4-6" name="sec-1-4-6"></a>Backup files</h4>
<div class="outline-text-4" id="text-backup-files">

<p>
Some people like to have them. I don't. Rather than pushing them
to a folder, never to be used, just turn the whole thing off.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> make-backup-files nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-yes-and-no" class="outline-4">
<h4 id="yes-and-no"><a id="sec-1-4-7" name="sec-1-4-7"></a>Yes and No</h4>
<div class="outline-text-4" id="text-yes-and-no">

<p>
Nobody likes to have to type out the full yes or no when Emacs
asks. Which it does often. Make it one character.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defalias</span> '<span style="color: #268bd2;">yes-or-no-p</span> 'y-or-n-p)
</pre>
</div>
</div>
</div>
<div id="outline-container-key-bindings" class="outline-4">
<h4 id="key-bindings"><a id="sec-1-4-8" name="sec-1-4-8"></a>Key bindings</h4>
<div class="outline-text-4" id="text-key-bindings">

<p>
Miscellaneous key binding stuff that doesn't fit anywhere else.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #2aa198;">"RET"</span>) 'newline-and-indent)
(global-set-key (kbd <span style="color: #2aa198;">"C-;"</span>) 'comment-or-uncomment-region)
(global-set-key (kbd <span style="color: #2aa198;">"M-/"</span>) 'hippie-expand)
(global-set-key (kbd <span style="color: #2aa198;">"C-+"</span>) 'text-scale-increase)
(global-set-key (kbd <span style="color: #2aa198;">"C--"</span>) 'text-scale-decrease)
(global-set-key (kbd <span style="color: #2aa198;">"C-c C-k"</span>) 'compile)
(global-set-key (kbd <span style="color: #2aa198;">"C-x g"</span>) 'magit-status)
</pre>
</div>
</div>
</div>
<div id="outline-container-misc" class="outline-4">
<h4 id="misc"><a id="sec-1-4-9" name="sec-1-4-9"></a>Misc</h4>
<div class="outline-text-4" id="text-misc">

<p>
Turn down the time to echo keystrokes so I don't have to wait
around for things to happen. Dialog boxes are also a bit annoying,
so just have Emacs use the echo area for everything. Beeping is
for robots, and I am not a robot. Use a visual indicator instead
of making horrible noises. Oh, and always highlight parentheses. A
person could go insane without that.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> echo-keystrokes 0.1
      use-dialog-box nil
      visible-bell t)
(show-paren-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-vendor-directory" class="outline-4">
<h4 id="vendor-directory"><a id="sec-1-4-10" name="sec-1-4-10"></a>Vendor directory</h4>
<div class="outline-text-4" id="text-vendor-directory">

<p>
I have a couple of things that don't come from package
managers. This includes the directory for use.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">abedra/vendor-dir</span> (expand-file-name <span style="color: #2aa198;">"vendor"</span> user-emacs-directory))
(add-to-list 'load-path abedra/vendor-dir)

(<span style="color: #859900; font-weight: bold;">dolist</span> (project (directory-files abedra/vendor-dir t <span style="color: #2aa198;">"\\w+"</span>))
  (<span style="color: #859900; font-weight: bold;">when</span> (file-directory-p project)
    (add-to-list 'load-path project)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org-mode" class="outline-3">
<h3 id="org-mode"><a id="sec-1-5" name="sec-1-5"></a>Org</h3>
<div class="outline-text-3" id="text-org-mode">
<p>
<code>org-mode</code> is one of the most powerful and amazing features of
Emacs. I mostly use it for task/day organization and generating
code snippets in HTML. Just a few tweaks here to make the
experience better.
</p>
</div>
<div id="outline-container-org-mode-settings" class="outline-4">
<h4 id="org-mode-settings"><a id="sec-1-5-1" name="sec-1-5-1"></a>Settings</h4>
<div class="outline-text-4" id="text-org-mode-settings">
<p>
Enable logging when tasks are complete. This puts a time-stamp on
the completed task. Since I usually am doing quite a few things at
once, I added the <code>INPROGRESS</code> keyword and made the color
blue. Finally, enable <code>flyspell-mode</code> and <code>writegood-mode</code> when
<code>org-mode</code> is active.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> org-log-done t
      org-todo-keywords '((sequence <span style="color: #2aa198;">"TODO"</span> <span style="color: #2aa198;">"INPROGRESS"</span> <span style="color: #2aa198;">"DONE"</span>))
      org-todo-keyword-faces '((<span style="color: #2aa198;">"INPROGRESS"</span> . (<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span> <span style="color: #657b83; font-weight: bold;">:weight</span> bold))))
(add-hook 'org-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (flyspell-mode)))
(add-hook 'org-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (writegood-mode)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org-agenda" class="outline-4">
<h4 id="org-agenda"><a id="sec-1-5-2" name="sec-1-5-2"></a>org-agenda</h4>
<div class="outline-text-4" id="text-org-agenda">
<p>
First, create the global binding for <code>org-agenda</code>. This allows it
to be quickly accessed. The agenda view requires that org files be
added to it. The <code>personal.org</code> file is my daily file for review. I
have a habit to plan the next day. I do this by assessing my
calendar and my list of todo items. If a todo item is already
scheduled or has a deadline, don't show it in the global todo list.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #2aa198;">"C-c a"</span>) 'org-agenda)
(<span style="color: #859900; font-weight: bold;">setq</span> org-agenda-show-log t
      org-agenda-todo-ignore-scheduled t
      org-agenda-todo-ignore-deadlines t)
(<span style="color: #859900; font-weight: bold;">setq</span> org-agenda-files (list <span style="color: #2aa198;">"~/Dropbox/org/personal.org"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-org-habit" class="outline-4">
<h4 id="org-habit"><a id="sec-1-5-3" name="sec-1-5-3"></a>org-habit</h4>
<div class="outline-text-4" id="text-org-habit">
<p>
I have several habits that I also track. In order to take
full advantage of this feature <code>org-habit</code> has to be required and
added to <code>org-modules</code>. A few settings are also tweaked for habit
mode to make the tracking a little more palatable. The most
significant of these is <code>org-habit-graph-column</code>. This specifies
where the graph should start. The default is too low and cuts off a
lot, so I start it at 80 characters.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org-install</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org-habit</span>)
(add-to-list 'org-modules <span style="color: #2aa198;">"org-habit"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> org-habit-preceding-days 7
      org-habit-following-days 1
      org-habit-graph-column 80
      org-habit-show-habits-only-for-today t
      org-habit-show-all-today t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org-babel" class="outline-4">
<h4 id="org-babel"><a id="sec-1-5-4" name="sec-1-5-4"></a>org-babel</h4>
<div class="outline-text-4" id="text-org-babel">
<p>
<code>org-babel</code> is a feature inside of <code>org-mode</code> that makes this
document possible. It allows for embedding languages inside of an
<code>org-mode</code> document with all the proper font-locking. It also
allows you to extract and execute code. It isn't aware of
<code>Clojure</code> by default, so the following sets that up.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">ob</span>)

(org-babel-do-load-languages
 'org-babel-load-languages
 '((sh . t)
   (ditaa . t)
   (plantuml . t)
   (dot . t)
   (ruby . t)
   (js . t)
   (C . t)))

(add-to-list 'org-src-lang-modes (<span style="color: #859900; font-weight: bold;">quote</span> (<span style="color: #2aa198;">"dot"</span>. graphviz-dot)))
(add-to-list 'org-src-lang-modes (<span style="color: #859900; font-weight: bold;">quote</span> (<span style="color: #2aa198;">"plantuml"</span> . fundamental)))
(add-to-list 'org-babel-tangle-lang-exts '(<span style="color: #2aa198;">"clojure"</span> . <span style="color: #2aa198;">"clj"</span>))

(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">org-babel-default-header-args:clojure</span>
  '((<span style="color: #657b83; font-weight: bold;">:results</span> . <span style="color: #2aa198;">"silent"</span>) (<span style="color: #657b83; font-weight: bold;">:tangle</span> . <span style="color: #2aa198;">"yes"</span>)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-babel-execute:clojure</span> (body params)
  (lisp-eval-string body)
  <span style="color: #2aa198;">"Done!"</span>)

(<span style="color: #859900; font-weight: bold;">provide</span> '<span style="color: #268bd2; font-weight: bold;">ob-clojure</span>)

(<span style="color: #859900; font-weight: bold;">setq</span> org-src-fontify-natively t
      org-confirm-babel-evaluate nil)

(add-hook 'org-babel-after-execute-hook (<span style="color: #859900; font-weight: bold;">lambda</span> ()
                                          (<span style="color: #859900; font-weight: bold;">condition-case</span> nil
                                              (org-display-inline-images)
                                            (<span style="color: #cb4b16; font-weight: bold;">error</span> nil)))
          'append)
</pre>
</div>
</div>
</div>
<div id="outline-container-org-abbrev" class="outline-4">
<h4 id="org-abbrev"><a id="sec-1-5-5" name="sec-1-5-5"></a>org-abbrev</h4>
<div class="outline-text-4" id="text-org-abbrev">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'org-mode-hook (<span style="color: #859900; font-weight: bold;">lambda</span> () (abbrev-mode 1)))

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-org-block-elisp</span>
  <span style="color: #2aa198;">"Insert an emacs-lisp block"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"#+begin_src emacs-lisp\n"</span>
  _ - \n
  <span style="color: #2aa198;">"#+end_src\n"</span>)

(define-abbrev org-mode-abbrev-table <span style="color: #2aa198;">"elsrc"</span> <span style="color: #2aa198;">""</span> 'skel-org-block-elisp)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-org-block-js</span>
  <span style="color: #2aa198;">"Insert a JavaScript block"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"#+begin_src js\n"</span>
  _ - \n
  <span style="color: #2aa198;">"#+end_src\n"</span>)

(define-abbrev org-mode-abbrev-table <span style="color: #2aa198;">"jssrc"</span> <span style="color: #2aa198;">""</span> 'skel-org-block-js)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-header-block</span>
  <span style="color: #2aa198;">"Creates my default header"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"#+TITLE: "</span> str <span style="color: #2aa198;">"\n"</span>
  <span style="color: #2aa198;">"#+AUTHOR: Aaron Bedra\n"</span>
  <span style="color: #2aa198;">"#+EMAIL: aaron@aaronbedra.com\n"</span>
  <span style="color: #2aa198;">"#+OPTIONS: toc:3 num:nil\n"</span>
  <span style="color: #2aa198;">"#+STYLE: &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://thomasf.github.io/solarized-css/solarized-light.min.css\" /&gt;\n"</span>)

(define-abbrev org-mode-abbrev-table <span style="color: #2aa198;">"sheader"</span> <span style="color: #2aa198;">""</span> 'skel-header-block)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-org-html-file-name</span>
  <span style="color: #2aa198;">"Insert an HTML snippet to reference the file by name"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"#+HTML: &lt;strong&gt;&lt;i&gt;"</span>str<span style="color: #2aa198;">"&lt;/i&gt;&lt;/strong&gt;"</span>)

(define-abbrev org-mode-abbrev-table <span style="color: #2aa198;">"fname"</span> <span style="color: #2aa198;">""</span> 'skel-org-html-file-name)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-ngx-config</span>
  <span style="color: #2aa198;">"Template for NGINX module config file"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"ngx_addon_name=ngx_http_"</span> str  <span style="color: #2aa198;">"_module\n"</span>
  <span style="color: #2aa198;">"HTTP_MODULES=\"$HTTP_MODULES ngx_http_"</span> str <span style="color: #2aa198;">"_module\"\n"</span>
  <span style="color: #2aa198;">"NGX_ADDON_SRCS=\"$NGX_ADDON_SRCS $ngx_addon_dir/ngx_http_"</span> str <span style="color: #2aa198;">"_module.c\""</span>)

(define-abbrev fundamental-mode-abbrev-table <span style="color: #2aa198;">"ngxcnf"</span> <span style="color: #2aa198;">""</span> 'skel-ngx-config)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-ngx-module</span>
  <span style="color: #2aa198;">"Template for NGINX modules"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"#include &lt;nginx.h&gt;\n"</span>
  <span style="color: #2aa198;">"#include &lt;ngx_config.h&gt;\n"</span>
  <span style="color: #2aa198;">"#include &lt;ngx_core.h&gt;\n"</span>
  <span style="color: #2aa198;">"#include &lt;ngx_http.h&gt;\n\n"</span>

  <span style="color: #2aa198;">"ngx_module_t ngx_http_"</span> str <span style="color: #2aa198;">"_module;\n\n"</span>

  <span style="color: #2aa198;">"static ngx_int_t\n"</span>
  <span style="color: #2aa198;">"ngx_http_"</span> str <span style="color: #2aa198;">"_handler(ngx_http_request_t *r)\n"</span>
  <span style="color: #2aa198;">"{\n"</span>
  &gt;<span style="color: #2aa198;">"if (r-&gt;main-&gt;internal) {\n"</span>
  &gt;<span style="color: #2aa198;">"return NGX_DECLINED;\n"</span>
  <span style="color: #2aa198;">"}"</span> &gt; \n
  \n
  &gt;<span style="color: #2aa198;">"ngx_log_error(NGX_LOG_ERR, r-&gt;connection-&gt;log, 0, \"My new module\");\n\n"</span>
  &gt; _ \n
  &gt;<span style="color: #2aa198;">"return NGX_OK;\n"</span>
  <span style="color: #2aa198;">"}"</span> &gt; <span style="color: #2aa198;">"\n\n"</span>

  <span style="color: #2aa198;">"static ngx_int_t\n"</span>
  <span style="color: #2aa198;">"ngx_http_"</span>str<span style="color: #2aa198;">"_init(ngx_conf_t *cf)\n"</span>
  <span style="color: #2aa198;">"{\n"</span>
  &gt;<span style="color: #2aa198;">"ngx_http_handler_pt *h;\n"</span>
  &gt;<span style="color: #2aa198;">"ngx_http_core_main_conf_t *cmcf;\n\n"</span>

  &gt;<span style="color: #2aa198;">"cmcf = ngx_http_conf_get_module_main_conf(cf, ngx_http_core_module);\n"</span>
  &gt;<span style="color: #2aa198;">"h = ngx_array_push(&amp;cmcf-&gt;phases[NGX_HTTP_ACCESS_PHASE].handlers);\n\n"</span>

  &gt;<span style="color: #2aa198;">"if (h == NULL) {\n"</span>
  &gt;<span style="color: #2aa198;">"return NGX_ERROR;\n"</span>
  <span style="color: #2aa198;">"}"</span> &gt; \n
  \n
  &gt;<span style="color: #2aa198;">"*h = ngx_http_"</span>str<span style="color: #2aa198;">"_handler;\n\n"</span>

  &gt;<span style="color: #2aa198;">"return NGX_OK;\n"</span>
  <span style="color: #2aa198;">"}"</span> &gt; \n
  \n
  <span style="color: #2aa198;">"static ngx_http_module_t ngx_http_"</span>str<span style="color: #2aa198;">"_module_ctx = {\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* preconfiguration */\n"</span>
  &gt;<span style="color: #2aa198;">"ngx_http_"</span>str<span style="color: #2aa198;">"_init,  /* postconfiguration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* create main configuration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* init main configuration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* create server configuration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* merge server configuration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                 /* create location configuration */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL                  /* merge location configuration */\n"</span>
  <span style="color: #2aa198;">"};"</span> &gt; \n
  \n

  <span style="color: #2aa198;">"ngx_module_t ngx_http_"</span>str<span style="color: #2aa198;">"_module = {\n"</span>
  &gt;<span style="color: #2aa198;">"NGX_MODULE_V1,\n"</span>
  &gt;<span style="color: #2aa198;">"&amp;ngx_http_"</span>str<span style="color: #2aa198;">"_module_ctx,  /* module context */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* module directives */\n"</span>
  &gt;<span style="color: #2aa198;">"NGX_HTTP_MODULE,             /* module type */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* init master */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* init module */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* init process */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* init thread */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* exit thread */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* exit process */\n"</span>
  &gt;<span style="color: #2aa198;">"NULL,                        /* exit master */\n"</span>
  &gt;<span style="color: #2aa198;">"NGX_MODULE_V1_PADDING\n"</span>
  <span style="color: #2aa198;">"};"</span> &gt;)

(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">cc-mode</span>)
(define-abbrev c-mode-abbrev-table <span style="color: #2aa198;">"ngxmod"</span> <span style="color: #2aa198;">""</span> 'skel-ngx-module)

(<span style="color: #859900; font-weight: bold;">define-skeleton</span> <span style="color: #268bd2;">skel-ngx-append-header</span>
  <span style="color: #2aa198;">"Template for header appending function for NGINX modules"</span>
  <span style="color: #2aa198;">""</span>
  <span style="color: #2aa198;">"static void append_header(ngx_http_request_t *r)\n"</span>
  <span style="color: #2aa198;">"{\n"</span>
  &gt; <span style="color: #2aa198;">"ngx_table_elt_t *h;\n"</span>
  &gt; <span style="color: #2aa198;">"h = ngx_list_push(&amp;r-&gt;headers_out.headers);\n"</span>
  &gt; <span style="color: #2aa198;">"h-&gt;hash = 1;\n"</span>
  &gt; <span style="color: #2aa198;">"ngx_str_set(&amp;h-&gt;key, \"X-NGINX-Hello\");\n"</span>
  &gt; <span style="color: #2aa198;">"ngx_str_set(&amp;h-&gt;value, \"Hello NGINX!\");\n"</span>
  <span style="color: #2aa198;">"}\n"</span>)

(define-abbrev c-mode-abbrev-table <span style="color: #2aa198;">"ngxhdr"</span> <span style="color: #2aa198;">""</span> 'skel-ngx-append-header)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">Utilities</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-ditaa" class="outline-4">
<h4 id="ditaa"><a id="sec-1-6-1" name="sec-1-6-1"></a>ditaa</h4>
<div class="outline-text-4" id="text-ditaa">
<p>
There's no substitute for real drawings, but it's nice to be able
to sketch things out and produce a picture right from
<code>org-mode</code>. This sets up <code>ditaa</code> for execution from inside a babel
block.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> org-ditaa-jar-path <span style="color: #2aa198;">"~/.emacs.d/vendor/ditaa0_9.jar"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-plantuml" class="outline-4">
<h4 id="plantuml"><a id="sec-1-6-2" name="sec-1-6-2"></a>plantuml</h4>
<div class="outline-text-4" id="text-plantuml">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> org-plantuml-jar-path <span style="color: #2aa198;">"~/.emacs.d/vendor/plantuml.jar"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6-3" class="outline-4">
<h4 id="sec-1-6-3">deft</h4>
<div class="outline-text-4" id="text-1-6-3">
<p>
<code>deft</code> provides random note taking with history and
searching. Since I use <code>org-mode</code> for everything else, I turn that
on as the default mode for <code>deft</code> and put the files in Dropbox.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> deft-directory <span style="color: #2aa198;">"~/Dropbox/deft"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> deft-use-filename-as-title t)
(<span style="color: #859900; font-weight: bold;">setq</span> deft-extension <span style="color: #2aa198;">"org"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> deft-text-mode 'org-mode)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-4" class="outline-4">
<h4 id="sec-1-6-4">Smex</h4>
<div class="outline-text-4" id="text-1-6-4">
<p>
<code>smex</code> is a necessity. It provides history and searching on top of <code>M-x</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> smex-save-file (expand-file-name <span style="color: #2aa198;">".smex-items"</span> user-emacs-directory))
(smex-initialize)
(global-set-key (kbd <span style="color: #2aa198;">"M-x"</span>) 'smex)
(global-set-key (kbd <span style="color: #2aa198;">"M-X"</span>) 'smex-major-mode-commands)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-5" class="outline-4">
<h4 id="sec-1-6-5">Ido</h4>
<div class="outline-text-4" id="text-1-6-5">
<p>
<code>Ido</code> mode provides a nice way to navigate the filesystem. This is
mostly just turning it on.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(ido-mode t)
(<span style="color: #859900; font-weight: bold;">setq</span> ido-enable-flex-matching t
      ido-use-virtual-buffers t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-6" class="outline-4">
<h4 id="sec-1-6-6">Column number mode</h4>
<div class="outline-text-4" id="text-1-6-6">
<p>
Turn on column numbers.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> column-number-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-7" class="outline-4">
<h4 id="sec-1-6-7">Temporary file management</h4>
<div class="outline-text-4" id="text-1-6-7">
<p>
Deal with temporary files. I don't care about them and this makes
them go away.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> backup-directory-alist `((<span style="color: #2aa198;">".*"</span> . ,temporary-file-directory)))
(<span style="color: #859900; font-weight: bold;">setq</span> auto-save-file-name-transforms `((<span style="color: #2aa198;">".*"</span> ,temporary-file-directory t)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-8" class="outline-4">
<h4 id="sec-1-6-8">autopair-mode</h4>
<div class="outline-text-4" id="text-1-6-8">
<p>
This makes sure that brace structures <code>(), [], {}</code>, etc. are closed
as soon as the opening character is typed.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">autopair</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-9" class="outline-4">
<h4 id="sec-1-6-9">Power lisp</h4>
<div class="outline-text-4" id="text-1-6-9">
<p>
A bunch of tweaks for programming in LISP dialects. It defines the
modes that I want to apply these hooks to. To add more just add
them to <code>lisp-modes</code>. This also creates its own minor mode to
properly capture the behavior. It remaps some keys to make paredit
work a little easier as well. It also sets <code>clisp</code> as the default
lisp program and <code>racket</code> as the default scheme program.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> lisp-modes '(lisp-mode
                   emacs-lisp-mode
                   common-lisp-mode
                   scheme-mode
                   clojure-mode))

(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">lisp-power-map</span> (make-keymap))
(<span style="color: #859900; font-weight: bold;">define-minor-mode</span> <span style="color: #268bd2;">lisp-power-mode</span> <span style="color: #2aa198;">"Fix keybindings; add power."</span>
  <span style="color: #657b83; font-weight: bold;">:lighter</span> <span style="color: #2aa198;">" (power)"</span>
  <span style="color: #657b83; font-weight: bold;">:keymap</span> lisp-power-map
  (paredit-mode t))
(define-key lisp-power-map [delete] 'paredit-forward-delete)
(define-key lisp-power-map [backspace] 'paredit-backward-delete)

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">abedra/engage-lisp-power</span> ()
  (lisp-power-mode t))

(<span style="color: #859900; font-weight: bold;">dolist</span> (mode lisp-modes)
  (add-hook (intern (format <span style="color: #2aa198;">"%s-hook"</span> mode))
            #'abedra/engage-lisp-power))

(<span style="color: #859900; font-weight: bold;">setq</span> inferior-lisp-program <span style="color: #2aa198;">"clisp"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> scheme-program-name <span style="color: #2aa198;">"racket"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-10" class="outline-4">
<h4 id="sec-1-6-10">auto-complete</h4>
<div class="outline-text-4" id="text-1-6-10">
<p>
Turn on auto complete.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">auto-complete-config</span>)
(ac-config-default)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-11" class="outline-4">
<h4 id="sec-1-6-11">Indentation and buffer cleanup</h4>
<div class="outline-text-4" id="text-1-6-11">
<p>
This re-indents, untabifies, and cleans up whitespace. It is stolen
directly from the emacs-starter-kit.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">untabify-buffer</span> ()
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (untabify (point-min) (point-max)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">indent-buffer</span> ()
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (indent-region (point-min) (point-max)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">cleanup-buffer</span> ()
  <span style="color: #2aa198;">"Perform a bunch of operations on the whitespace content of a buffer."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (indent-buffer)
  (untabify-buffer)
  (delete-trailing-whitespace))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">cleanup-region</span> (beg end)
  <span style="color: #2aa198;">"Remove tmux artifacts from region."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"r"</span>)
  (<span style="color: #859900; font-weight: bold;">dolist</span> (re '(<span style="color: #2aa198;">"\\\\&#9474;\&#183;*\n"</span> <span style="color: #2aa198;">"\W*&#9474;\&#183;*"</span>))
    (replace-regexp re <span style="color: #2aa198;">""</span> nil beg end)))

(global-set-key (kbd <span style="color: #2aa198;">"C-x M-t"</span>) 'cleanup-region)
(global-set-key (kbd <span style="color: #2aa198;">"C-c n"</span>) 'cleanup-buffer)

(<span style="color: #859900; font-weight: bold;">setq-default</span> show-trailing-whitespace t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-12" class="outline-4">
<h4 id="sec-1-6-12">flyspell</h4>
<div class="outline-text-4" id="text-1-6-12">
<p>
The built-in Emacs spell checker. Turn off the welcome flag because
it is annoying and breaks on quite a few systems. Specify the
location of the spell check program so it loads properly.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> flyspell-issue-welcome-flag nil)
(<span style="color: #859900; font-weight: bold;">if</span> (eq system-type 'darwin)
    (<span style="color: #859900; font-weight: bold;">setq-default</span> ispell-program-name <span style="color: #2aa198;">"/usr/local/bin/aspell"</span>)
  (<span style="color: #859900; font-weight: bold;">setq-default</span> ispell-program-name <span style="color: #2aa198;">"/usr/bin/aspell"</span>))
(<span style="color: #859900; font-weight: bold;">setq-default</span> ispell-list-command <span style="color: #2aa198;">"list"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-13" class="outline-4">
<h4 id="sec-1-6-13">eshell</h4>
<div class="outline-text-4" id="text-1-6-13">
<p>
Customize eshell
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">f</span>)

(<span style="color: #859900; font-weight: bold;">setq</span> eshell-visual-commands
      '(<span style="color: #2aa198;">"less"</span> <span style="color: #2aa198;">"tmux"</span> <span style="color: #2aa198;">"htop"</span> <span style="color: #2aa198;">"top"</span> <span style="color: #2aa198;">"bash"</span> <span style="color: #2aa198;">"zsh"</span> <span style="color: #2aa198;">"fish"</span>))

(<span style="color: #859900; font-weight: bold;">setq</span> eshell-visual-subcommands
      '((<span style="color: #2aa198;">"git"</span> <span style="color: #2aa198;">"log"</span> <span style="color: #2aa198;">"l"</span> <span style="color: #2aa198;">"diff"</span> <span style="color: #2aa198;">"show"</span>)))

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Prompt with a bit of help from http://www.emacswiki.org/emacs/EshellPrompt</span>
(<span style="color: #859900; font-weight: bold;">defmacro</span> <span style="color: #268bd2;">with-face</span> (str <span style="color: #b58900;">&amp;rest</span> properties)
  `(propertize ,str 'face (list ,@properties)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">eshell/abbr-pwd</span> ()
  (<span style="color: #859900; font-weight: bold;">let</span> ((home (getenv <span style="color: #2aa198;">"HOME"</span>))
        (path (eshell/pwd)))
    (<span style="color: #859900; font-weight: bold;">cond</span>
     ((string-equal home path) <span style="color: #2aa198;">"~"</span>)
     ((f-ancestor-of? home path) (concat <span style="color: #2aa198;">"~/"</span> (f-relative path home)))
     (path))))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">eshell/my-prompt</span> ()
  (<span style="color: #859900; font-weight: bold;">let</span> ((header-bg <span style="color: #2aa198;">"#161616"</span>))
    (concat
<span style="color: #93a1a1;">;     </span><span style="color: #93a1a1;">(with-face user-login-name :foreground "#dc322f")</span>
<span style="color: #93a1a1;">;     </span><span style="color: #93a1a1;">(with-face (concat "@" hostname) :foreground "#268bd2")</span>
<span style="color: #93a1a1;">;     </span><span style="color: #93a1a1;">" "</span>
     (<span style="color: #859900; font-weight: bold;">with-face</span> (eshell/abbr-pwd) <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"#008700"</span>)
     (<span style="color: #859900; font-weight: bold;">if</span> (= (user-uid) 0)
         (<span style="color: #859900; font-weight: bold;">with-face</span> <span style="color: #2aa198;">"#"</span> <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"red"</span>)
       (<span style="color: #859900; font-weight: bold;">with-face</span> <span style="color: #2aa198;">"$"</span> <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"#2345ba"</span>))
     <span style="color: #2aa198;">" "</span>)))

(<span style="color: #859900; font-weight: bold;">setq</span> eshell-prompt-function 'eshell/my-prompt)
(<span style="color: #859900; font-weight: bold;">setq</span> eshell-highlight-prompt nil)
(<span style="color: #859900; font-weight: bold;">setq</span> eshell-prompt-regexp <span style="color: #2aa198;">"^[</span><span style="color: #b58900; font-weight: bold;">^</span><span style="color: #2aa198;">#$\n]+[#$] "</span>)

(<span style="color: #859900; font-weight: bold;">setq</span> eshell-cmpl-cycle-completions nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-6-14" class="outline-4">
<h4 id="sec-1-6-14">powerline</h4>
<div class="outline-text-4" id="text-1-6-14">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">powerline</span>)
(powerline-default-theme)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-languages" class="outline-3">
<h3 id="languages"><a id="sec-1-7" name="sec-1-7"></a>Language Hooks</h3>
<div class="outline-text-3" id="text-languages">
</div>
<div id="outline-container-shell-script-mode" class="outline-4">
<h4 id="shell-script-mode"><a id="sec-1-7-1" name="sec-1-7-1"></a>shell-script-mode</h4>
<div class="outline-text-4" id="text-shell-script-mode">
<p>
Use <code>shell-script-mode</code> for <code>.zsh</code> files.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.zsh$"</span> . shell-script-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-conf-mode" class="outline-4">
<h4 id="conf-mode"><a id="sec-1-7-2" name="sec-1-7-2"></a>conf-mode</h4>
<div class="outline-text-4" id="text-conf-mode">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.gitconfig$"</span> . conf-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-web-mode" class="outline-4">
<h4 id="web-mode"><a id="sec-1-7-3" name="sec-1-7-3"></a>Web Mode</h4>
<div class="outline-text-4" id="text-web-mode">

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> web-mode-style-padding 2)
(<span style="color: #859900; font-weight: bold;">setq</span> web-mode-script-padding 2)
(<span style="color: #859900; font-weight: bold;">setq</span> web-mode-markup-indent-offset 2)
(<span style="color: #859900; font-weight: bold;">setq</span> web-mode-css-indent-offset 2)
(<span style="color: #859900; font-weight: bold;">setq</span> web-mode-code-indent-offset 2)

(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.hbs$"</span> . web-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.erb$"</span> . web-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.html$"</span> . web-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-4" class="outline-4">
<h4 id="sec-1-7-4">Ruby</h4>
<div class="outline-text-4" id="text-1-7-4">
<p>
Turn on <code>autopair</code> for Ruby. Identify additional file
names/extensions that will trigger <code>ruby-mode</code> when loaded.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'ruby-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (autopair-mode)))

(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.rake$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.gemspec$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.ru$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Rakefile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Gemfile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Capfile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Vagrantfile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Guardfile"</span> . ruby-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-5" class="outline-4">
<h4 id="sec-1-7-5">RVM</h4>
<div class="outline-text-4" id="text-1-7-5">
<p>
Enable Ruby Version Manager mode and tell it to use the default Ruby.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">(rvm-use-default) ;; This is causing a 1.5 second slow down to startup, disabling for now</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-6" class="outline-4">
<h4 id="sec-1-7-6">YAML</h4>
<div class="outline-text-4" id="text-1-7-6">
<p>
Add additional file extensions that trigger <code>yaml-mode</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.yml$"</span> . yaml-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.yaml$"</span> . yaml-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-7" class="outline-4">
<h4 id="sec-1-7-7">CoffeeScript Mode</h4>
<div class="outline-text-4" id="text-1-7-7">
<p>
The default CoffeeScript mode makes terrible choices. This turns
everything into 2 space indentations and makes it so the mode
functions rather than causing you indentation errors every time you
modify a file.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">coffee-custom</span> ()
  <span style="color: #2aa198;">"coffee-mode-hook"</span>
  (make-local-variable 'tab-width)
  (set 'tab-width 2))

(add-hook 'coffee-mode-hook 'coffee-custom)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-8" class="outline-4">
<h4 id="sec-1-7-8">JavaScript Mode</h4>
<div class="outline-text-4" id="text-1-7-8">
<p>
<code>js-mode</code> defaults to using 4 spaces for indentation. Change it to 2
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">js-custom</span> ()
  <span style="color: #2aa198;">"js-mode-hook"</span>
  (<span style="color: #859900; font-weight: bold;">setq</span> js-indent-level 2))

(add-hook 'js-mode-hook 'js-custom)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-9" class="outline-4">
<h4 id="sec-1-7-9">Markdown Mode</h4>
<div class="outline-text-4" id="text-1-7-9">
<p>
Enable Markdown mode and setup additional file extensions. Use
pandoc to generate HTML previews from within the mode, and use a
custom css file to make it a little prettier.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.md$"</span> . markdown-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.mdown$"</span> . markdown-mode))
(add-hook 'markdown-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (visual-line-mode t)
            (writegood-mode t)
            (flyspell-mode t)))
(<span style="color: #859900; font-weight: bold;">setq</span> markdown-command <span style="color: #2aa198;">"pandoc --smart -f markdown -t html"</span>)
(<span style="color: #859900; font-weight: bold;">setq</span> markdown-css-paths `(,(expand-file-name <span style="color: #2aa198;">"markdown.css"</span> abedra/vendor-dir)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-10" class="outline-4">
<h4 id="sec-1-7-10">Idris Mode</h4>
<div class="outline-text-4" id="text-1-7-10">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">setq</span> idris-interpreter-path <span style="color: #2aa198;">"/usr/local/bin/idris"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-11" class="outline-4">
<h4 id="sec-1-7-11">CPSA Mode</h4>
<div class="outline-text-4" id="text-1-7-11">
<p>
Enable support for Cryptographic Protocol Shapes Analyzer. This is
a scheme-ish dialect, so it's a derived from <code>scheme-mode</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">define-derived-mode</span> <span style="color: #268bd2;">cpsa-mode</span> scheme-mode
  (<span style="color: #859900; font-weight: bold;">setq</span> mode-name <span style="color: #2aa198;">"CPSA"</span>)
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-keywords '(<span style="color: #2aa198;">"defmacro"</span> <span style="color: #2aa198;">"defprotocol"</span> <span style="color: #2aa198;">"defrole"</span> <span style="color: #2aa198;">"defskeleton"</span> <span style="color: #2aa198;">"defstrand"</span>))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-functions '(<span style="color: #2aa198;">"cat"</span> <span style="color: #2aa198;">"hash"</span> <span style="color: #2aa198;">"enc"</span> <span style="color: #2aa198;">"string"</span> <span style="color: #2aa198;">"ltk"</span> <span style="color: #2aa198;">"privk"</span> <span style="color: #2aa198;">"pubk"</span> <span style="color: #2aa198;">"invk"</span> <span style="color: #2aa198;">"send"</span> <span style="color: #2aa198;">"recv"</span>  <span style="color: #2aa198;">"non-orig"</span> <span style="color: #2aa198;">"uniq-orig"</span> <span style="color: #2aa198;">"trace"</span> <span style="color: #2aa198;">"vars"</span>))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-types '(<span style="color: #2aa198;">"skey"</span> <span style="color: #2aa198;">"akey"</span> <span style="color: #2aa198;">"name"</span> <span style="color: #2aa198;">"text"</span>))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-keywords-regexp (regexp-opt cpsa-keywords 'words))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-functions-regexp (regexp-opt cpsa-functions 'words))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-types-regexp (regexp-opt cpsa-types 'words))
  (<span style="color: #859900; font-weight: bold;">setq</span> cpsa-font-lock-keywords
        `(
          (,cpsa-keywords-regexp . font-lock-keyword-face)
          (,cpsa-functions-regexp . font-lock-function-name-face)
          (,cpsa-types-regexp . font-lock-type-face)))
  (<span style="color: #859900; font-weight: bold;">setq</span> font-lock-defaults '((cpsa-font-lock-keywords))))

(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.cpsa$"</span> . cpsa-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-go-mode" class="outline-4">
<h4 id="go-mode"><a id="sec-1-7-12" name="sec-1-7-12"></a>Go Mode</h4>
<div class="outline-text-4" id="text-go-mode">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">go-autocomplete</span>)

(add-hook 'go-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (go-eldoc-setup)
            (add-hook 'before-save-hook 'gofmt-before-save)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-13" class="outline-4">
<h4 id="sec-1-7-13">Themes</h4>
<div class="outline-text-4" id="text-1-7-13">
<p>
Load solarized-light if in a graphical environment. Load the
wombat theme if in a terminal.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">if</span> window-system
    (load-theme 'solarized-light t)
  (load-theme 'wombat t))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-14" class="outline-4">
<h4 id="sec-1-7-14">Color Codes</h4>
<div class="outline-text-4" id="text-1-7-14">
<p>
Running things like RSpec in compilation mode produces ansi color
codes that aren't properly dealt with by default. This takes care
of that and makes sure that the colors that are trying to be
presented are rendered correctly.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">ansi-color</span>)
(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">colorize-compilation-buffer</span> ()
  (toggle-read-only)
  (ansi-color-apply-on-region (point-min) (point-max))
  (toggle-read-only))
(add-hook 'compilation-filter-hook 'colorize-compilation-buffer)
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Aaron Bedra</p>
<p class="date">Created: 2018-04-17 Tue 10:12</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
